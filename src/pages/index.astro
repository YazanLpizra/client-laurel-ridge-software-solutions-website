---
import BaseLayout from "@layouts/BaseLayout.astro";
import CTA from "@components/common/CTA.astro";
import { getOptimizedImage } from "@utils/utils";
import {
    Offerings,
    Pricing,
    WhatWeDo,
    ValueProp,
    PageRanking,
} from "@components/pages/home";

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Hero (for rendering)
// import landingImage from "@assets/images/hero.webp"; // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
import mobileLandingImage from "@assets/images/pages/home/hero-m.webp"; // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
// import heroVideo from "@assets/hero-video.mp4";
const heroVideo =
    "https://pub-0aac1dfd3c7f4c578929ae156abe787f.r2.dev/hero-video.mp4";
// const optimizedLandingImage = await getOptimizedImage(landingImage);
const optimizedMobileLandingImage = await getOptimizedImage(mobileLandingImage);
---

<BaseLayout
    title="Hand-Coded Websites & Business Automation | Enterprise-Grade Solutions for SMBs"
    description="100% custom hand-coded websites that outrank WordPress sites. Enterprise-grade security and performance standards. Transform your business with automation that saves 80% of manual work."
    preloadedImage={optimizedMobileLandingImage}
>
    <!-- ============================================ -->
    <!--                    Hero                      -->
    <!-- ============================================ -->
    <section id="hero-2436">
        <div class="cs-container">
            <div class="cs-content">
                <div class="cs-flex cs-flex1">
                    <span class="cs-topper">Enterprise-Grade Solutions</span>
                    <h2 class="cs-title">
                        Hand-Coded Websites & Business Automation
                    </h2>
                </div>
                <div class="cs-flex cs-flex2">
                    <p class="cs-text">
                        100% custom hand-coded websites that outperform
                        WordPress sites. Enterprise-grade security and
                        performance standards for small and medium businesses.
                        Transform operations with automation that saves 80% of
                        manual work.
                    </p>
                    <a href="" class="cs-button-solid">Schedule A Call</a>
                </div>
            </div>
            <!-- Logo will be added when available -->
        </div>
        <video class="cs-background" autoplay muted loop playsinline>
            <source src={heroVideo} type="video/mp4" />
            Your browser does not support the video tag.
        </video>
    </section>

    <WhatWeDo />
    <PageRanking />
    <ValueProp />
    <Offerings />
    <Pricing />

    <CTA />
</BaseLayout>

<style lang="scss">
    /*-- -------------------------- -->
<---           Hero             -->
<--- -------------------------- -*/
    /* Mobile */
    @media only screen and (min-width: 0rem) {
        #hero-2436 {
            min-height: 100vh;
            padding: var(--sectionPadding);
            padding-top: clamp(
                calc(220 / 16 * 1rem),
                45vw,
                calc(475 / 16 * 1rem)
            );
            overflow: hidden;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            position: relative;
            z-index: 1;

            &:before {
                content: "";
                width: 100%;
                height: 85%;
                background: linear-gradient(
                    to bottom,
                    rgba(3, 7, 17, 1) 0%,
                    rgba(3, 7, 17, 0.35) 75%,
                    rgba(3, 7, 17, 0) 100%
                );
                opacity: 1;
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                z-index: -1;
            }

            &:after {
                content: "";
                width: 100%;
                height: 35%;
                background: linear-gradient(
                    to bottom,
                    rgba(1, 1, 4, 0) 0%,
                    rgba(1, 1, 4, 1) 100%
                );
                opacity: 1;
                display: block;
                position: absolute;
                bottom: 0;
                left: 0;
                z-index: -1;
            }

            .cs-container {
                width: 100%;
                max-width: calc(1280 / 16 * 1rem);
                margin: 0 auto;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: clamp(calc(48 / 16 * 1rem), 8vw, calc(128 / 16 * 1rem));

                &:before {
                    content: "";
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(
                        to right,
                        rgba(3, 7, 17, 0.64) 0%,
                        rgba(3, 7, 17, 0.64) 18%,
                        rgba(3, 7, 17, 0.51) 25%,
                        rgba(3, 7, 17, 0.32) 35%,
                        rgba(3, 7, 17, 0.32) 60%,
                        rgba(3, 7, 17, 0.64) 78%,
                        rgba(3, 7, 17, 0.64) 80%,
                        rgba(3, 7, 17, 0.64) 100%
                    );
                    opacity: 1;
                    display: block;
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    z-index: -1;
                }
            }

            .cs-content {
                text-align: center;
                width: 100%;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                align-items: center;
                row-gap: calc(16 / 16 * 1rem);
                column-gap: clamp(
                    calc(64 / 16 * 1rem),
                    10vw,
                    calc(100 / 16 * 1rem)
                );
            }

            .cs-flex {
                text-align: inherit;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .cs-flex2 {
                max-width: calc(540 / 16 * 1rem);
            }

            .cs-title {
                font-size: clamp(
                    calc(39 / 16 * 1rem),
                    6vw,
                    calc(61 / 16 * 1rem)
                );
                margin-bottom: 0;
                max-width: 15ch;
                color: var(--bodyTextColorWhite);
            }

            .cs-text {
                font-size: clamp(
                    calc(16 / 16 * 1rem),
                    2vw,
                    calc(20 / 16 * 1rem)
                );
                color: var(--bodyTextColorWhite);
                margin-bottom: calc(32 / 16 * 1rem);
            }

            .cs-button-solid {
                font-size: calc(16 / 16 * 1rem);
                font-weight: 700;
                /* 46px - 56px */
                line-height: clamp(2.875rem, 5.5vw, 3.5rem);
                text-align: center;
                text-decoration: none;
                min-width: calc(150 / 16 * 1rem);
                margin: 0;
                padding: 0 calc(24 / 16 * 1rem);
                background-color: var(--primary);
                color: var(--bodyTextColorWhite);
                display: inline-block;
                position: relative;
                z-index: 1;

                &:before {
                    content: "";
                    width: 0%;
                    height: 100%;
                    background: #000;
                    opacity: 1;
                    position: absolute;
                    top: 0;
                    left: 0;
                    z-index: -1;
                    transition: width 0.3s;
                }

                &:hover {
                    &:before {
                        width: 100%;
                    }
                }
            }

            .cs-logo-feature {
                width: 100%;
                height: auto;
                display: block;
            }

            .cs-background {
                width: 100%;
                height: 100%;
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                object-fit: cover;
                z-index: -2;

                img {
                    width: 100%;
                    height: 100%;
                    display: block;
                    position: absolute;
                    top: 0;
                    left: 0;
                    object-fit: cover;
                }
            }
        }
    }

    /* Desktop - 1024px */
    @media only screen and (min-width: 64rem) {
        #hero-2436 {
            .cs-content {
                flex-direction: row;
                justify-content: space-between;
            }

            .cs-flex {
                text-align: left;
                align-items: flex-start;
            }

            .cs-flex2 {
                max-width: calc(417 / 16 * 1rem);
            }
        }
    }
</style>
