---
import client from "@data/client.json";
import { navData } from "@data/navData";
import { getCurrentYear } from "@utils/utils";

const currentYear = getCurrentYear();
const companyName = "Laurel Ridge Software Solutions LLC";
---

<!-- ============================================ 
                Footer                     
============================================ -->
<footer id="footer">
    <div class="container">
        <section class="left-section">
            <a class="logo" href="/"
                ><img
                    loading="lazy"
                    decoding="async"
                    src="/assets/svgs/logo-white.svg"
                    alt="logo"
                    width="264"
                    height="78"
                />
            </a>
        </section>
        <section class="right-section">
            <div class="lists">
                <ul>
                    <li>
                        <h2>Information</h2>
                    </li>
                    <!-- Note: `:any` is solely used to stop the TypeScript warnings. It's an upstream issue with the i18n package which does not impact the code. -->
                    {
                        navData
                            .filter((entry: any) => entry.category === "info")
                            .map((entry: any) => (
                                <li>
                                    {entry.url && (
                                        <a href={entry.url}>{entry.name}</a>
                                    )}
                                </li>
                            ))
                    }
                </ul>
                <ul>
                    <li>
                        <h2>Services</h2>
                    </li>
                    {
                        navData
                            .find((item) => item.name === "Services")!
                            .children.map(({ name }) => <li>{name}</li>)
                    }
                </ul>
                <ul>
                    <li>
                        <h2>Contact</h2>
                    </li>
                    <li>
                        <a href="/contact">
                            {client.address.lineOne}<br />
                            {client.address.lineTwo}<br />
                            {client.address.city}
                            {client.address.state}
                            {client.address.zip}
                        </a>
                    </li>
                    <li>
                        <a href={`tel:${client.phoneForTel}`}>
                            T:
                            {client.phoneFormatted}
                        </a>
                    </li>
                    <li>
                        <a href={`mailto:${client.email}`}>Click to email</a>
                    </li>
                </ul>
            </div>
        </section>
    </div>

    <section class="credit">
        <span>Designed and Hand Coded by </span>
        <a href="/" target="_blank" rel="noopener">{companyName}</a>
        <span class="copyright"> Copyright {currentYear}</span>
    </section>
</footer>

<style lang="scss">
    /* Mobile */
    @media only screen and (min-width: 0em) {
        #footer {
            font-size: min(4vw, 1.2em);
            padding: calc(84 / 16 * 1rem) 0 calc(20 / 16 * 1rem);
            background: var(--dark);

            .left-section {
                text-align: center;
                margin: auto;
                margin-bottom: calc(50 / 16 * 1rem);
                .logo {
                    text-align: center;
                    width: auto;
                    height: calc(32 / 16 * 1em);
                    margin: auto;
                    margin-bottom: calc(30 / 16 * 1em);
                    display: inline-block;

                    img {
                        width: auto;
                        height: 100%;
                        display: block;
                    }
                }

                p {
                    font-size: calc(14 / 16 * 1rem);
                    line-height: 27/14;
                    text-align: center;
                    width: 100%;
                    width: 307/14rem;
                    margin: auto;
                    color: #fff;
                    opacity: 0.9;
                }
            }

            .right-section {
                width: 96%;
                max-width: calc(407 / 16 * 1rem);
                margin: auto;
                .lists {
                    width: 96%;
                    max-width: calc(307 / 16 * 1rem);
                    margin: auto;
                    display: flex;
                    justify-content: space-between;
                    flex-wrap: wrap;
                    ul {
                        margin-top: 0;
                        margin-bottom: 0;
                        padding: 0;

                        &:nth-of-type(3) {
                            margin-top: calc(50 / 16 * 1rem);
                            li {
                                margin-bottom: calc(16 / 16 * 1rem);
                                display: flex;
                                justify-content: flex-start;
                                align-items: center;

                                &:last-of-type {
                                    margin-bottom: 0;
                                }
                            }
                        }

                        li {
                            font-size: calc(18 / 16 * 1rem);
                            list-style: none;
                            margin-bottom: calc(12 / 16 * 1rem);
                            color: #fff;
                            opacity: 0.9;

                            a {
                                line-height: 21/18em;
                                text-decoration: none;
                                color: #fff;
                                transition: color 0.3s;
                                &:hover {
                                    color: var(--primary);
                                }
                            }
                        }
                        h2 {
                            font-size: calc(18 / 16 * 1rem);
                            font-weight: bold;
                            line-height: 21/18em;
                            text-transform: uppercase;
                            margin-bottom: calc(37 / 16 * 1rem);
                            color: #fff;
                            position: relative;

                            &:before {
                                content: "";
                                width: calc(97 / 16 * 1rem);
                                height: calc(2 / 16 * 1rem);
                                background: var(--primary);
                                opacity: 1;
                                display: block;
                                position: absolute;
                                bottom: calc(-16rem / 16);
                                left: 0;
                            }
                        }
                    }
                }

                .buttons {
                    display: flex;
                    justify-content: center;
                }

                .cs-button-solid {
                    width: calc(250 / 16 * 1rem);
                    height: calc(53 / 16 * 1rem);
                    margin: 0;
                    padding-top: calc(3 / 16 * 1rem);
                }
            }

            .credit {
                font-size: calc(16 / 16 * 1rem);
                line-height: calc(36 / 16 * 1rem);
                text-align: center;
                width: 96%;
                margin: auto;
                margin-top: calc(100 / 16 * 1rem);
                color: #fff;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 2em;

                a {
                    font-size: calc(16 / 16 * 1rem);
                    text-decoration: none;
                    color: var(--primaryDark);

                    &:hover {
                        text-decoration: underline;
                    }
                }

                .copyright {
                    font-size: calc(16 / 16 * 1rem);
                    display: block;
                }

                .settings {
                    display: flex;
                }
            }
        }
    }

    /* Small Desktop */
    @media only screen and (min-width: 64em) {
        #footer {
            font-size: min(1.2vw, 1em);
            .container {
                width: 96%;
                max-width: calc(1320 / 16 * 1rem);
                margin: auto;
                padding: 0;
                display: flex;
                flex-direction: row;
                justify-content: space-between;
                flex-wrap: nowrap;
            }

            .left-section {
                text-align: left;
                width: calc(409 / 16 * 1rem);
                margin: 0;

                .logo {
                    text-align: left;
                    height: calc(40 / 16 * 1rem);
                    margin-left: 0;
                }

                p {
                    text-align: left;
                    margin-left: 0;
                }
            }

            .right-section {
                width: calc(609 / 16 * 1rem);
                max-width: none;
                margin: 0;
                .lists {
                    width: 96%;
                    max-width: calc(769 / 16 * 1rem);
                    max-width: initial;
                    margin: 0;

                    ul {
                        &:nth-of-type(3) {
                            margin-top: 0;

                            li:first-of-type {
                                margin-bottom: 0;
                            }
                        }

                        li {
                            a {
                                position: relative;

                                &:before {
                                    content: "";
                                    width: 0%;
                                    height: calc(2 / 16 * 1rem);
                                    background: var(--primary);
                                    opacity: 1;
                                    display: block;
                                    position: absolute;
                                    bottom: calc(-3rem / 16);
                                    left: 0;
                                    transition: width 0.3s;
                                }

                                &:hover {
                                    &:before {
                                        width: 100%;
                                    }
                                }
                            }
                        }
                    }
                }

                .buttons {
                    justify-content: flex-start;
                }
            }

            .credit {
                flex-direction: row;
                justify-content: center;

                .copyright {
                    display: inline-block;
                }
            }
        }
    }

    /* Dark Mode */
    @media only screen and (min-width: 0em) {
        body.dark-mode {
            #footer {
                .credit a {
                    color: var(--primaryDark);
                }
            }
        }
    }
</style>
